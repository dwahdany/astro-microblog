---
interface Props {
  /** The GitHub repository in 'owner/repo' format */
  repo?: string;
  /** The GitHub repository ID (get from Giscus setup) */
  repoId?: string;
  /** The GitHub Discussions category */
  category?: string;
  /** The GitHub Discussions category ID (get from Giscus setup) */
  categoryId?: string;
}

const {
  repo = 'your-username/your-repo',
  repoId = 'YOUR_REPO_ID',
  category = 'Announcements',
  categoryId = 'YOUR_CATEGORY_ID',
} = Astro.props;
---

<section class="giscus-container mt-12 pt-8 border-t border-terminal-border">
  <h2 class="text-lg font-semibold text-terminal-text mb-4 flex items-center gap-2">
    <span class="text-terminal-accent-green">></span>
    <span>Comments</span>
  </h2>
  <div class="giscus"></div>
</section>

<script
  src="https://giscus.app/client.js"
  data-repo={repo}
  data-repo-id={repoId}
  data-category={category}
  data-category-id={categoryId}
  data-mapping="pathname"
  data-strict="0"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-input-position="top"
  data-theme="dark_dimmed"
  data-lang="en"
  data-loading="lazy"
  crossorigin="anonymous"
  async
></script>

<style>
  .giscus-container {
    min-height: 200px;
  }
</style>
