backend:
  name: github
  repo: dwahdany/astro-microblog
  branch: main
  base_url: https://sveltia-cms-auth.dariush-5fc.workers.dev

media_folder: public/images
public_folder: /images

slug:
  encoding: ascii
  clean_accents: true

collections:
  - name: entries
    label: "Entries"
    label_singular: "Entry"
    folder: "src/content/entries"
    create: true
    extension: md
    format: frontmatter
    nested:
      depth: 100
    path: "{{year}}/{{slug}}"
    slug: "{{slug}}"
    summary: "{{title}}"
    identifier_field: slug
    sortable_fields: ['created', 'title']
    view_filters:
      - label: Drafts
        field: is_draft
        pattern: true
      - label: Published
        field: is_draft
        pattern: false
    fields:
      - label: "Slug"
        name: "slug"
        widget: "string"
        pattern: ['^[a-z0-9]+(?:-[a-z0-9]+)*$', "Lowercase letters, numbers, and hyphens only"]
      - label: "Title"
        name: "title"
        widget: "string"
      - label: "Created"
        name: "created"
        widget: "datetime"
        date_format: "YYYY-MM-DD"
        time_format: "HH:mm:ss"
        format: "YYYY-MM-DDTHH:mm:ssZ"
        default: "{{now}}"
      - label: "Tags"
        name: "tags"
        widget: "list"
        allow_add: true
        default: []
      - label: "Draft"
        name: "is_draft"
        widget: "boolean"
        default: false
      - label: "Series"
        name: "series"
        widget: "string"
        required: false
      - label: "Card Image"
        name: "card_image"
        widget: "image"
        required: false
      - label: "Excerpt"
        name: "excerpt"
        widget: "text"
        required: false
        hint: "Optional preview text for listings. If empty, content is auto-truncated."
      - label: "Body"
        name: "body"
        widget: "markdown"

  - name: blogmarks
    label: "Blogmarks"
    label_singular: "Blogmark"
    folder: "src/content/blogmarks"
    create: true
    extension: md
    format: frontmatter
    nested:
      depth: 100
    path: "{{year}}/{{slug}}"
    slug: "{{slug}}"
    summary: "{{link_title}}"
    identifier_field: slug
    sortable_fields: ['created', 'link_title']
    fields:
      - label: "Slug"
        name: "slug"
        widget: "string"
        pattern: ['^[a-z0-9]+(?:-[a-z0-9]+)*$', "Lowercase letters, numbers, and hyphens only"]
      - label: "Link URL"
        name: "link_url"
        widget: "string"
      - label: "Link Title"
        name: "link_title"
        widget: "string"
      - label: "Title Override"
        name: "title"
        widget: "string"
        required: false
        hint: "Optional title override for the page"
      - label: "Created"
        name: "created"
        widget: "datetime"
        date_format: "YYYY-MM-DD"
        time_format: "HH:mm:ss"
        format: "YYYY-MM-DDTHH:mm:ssZ"
        default: "{{now}}"
      - label: "Tags"
        name: "tags"
        widget: "list"
        allow_add: true
        default: []
      - label: "Via URL"
        name: "via_url"
        widget: "string"
        required: false
      - label: "Via Title"
        name: "via_title"
        widget: "string"
        required: false
      - label: "Draft"
        name: "is_draft"
        widget: "boolean"
        default: false
      - label: "Commentary"
        name: "body"
        widget: "markdown"

  - name: quotations
    label: "Quotations"
    label_singular: "Quotation"
    folder: "src/content/quotations"
    create: true
    extension: md
    format: frontmatter
    nested:
      depth: 100
    path: "{{year}}/{{slug}}"
    slug: "{{slug}}"
    summary: "{{source}}"
    identifier_field: slug
    sortable_fields: ['created', 'source']
    fields:
      - label: "Slug"
        name: "slug"
        widget: "string"
        pattern: ['^[a-z0-9]+(?:-[a-z0-9]+)*$', "Lowercase letters, numbers, and hyphens only"]
      - label: "Source"
        name: "source"
        widget: "string"
        hint: "Who said or wrote this?"
      - label: "Source URL"
        name: "source_url"
        widget: "string"
        required: false
      - label: "Context"
        name: "context"
        widget: "string"
        required: false
        hint: "Optional context about when/where this was said"
      - label: "Created"
        name: "created"
        widget: "datetime"
        date_format: "YYYY-MM-DD"
        time_format: "HH:mm:ss"
        format: "YYYY-MM-DDTHH:mm:ssZ"
        default: "{{now}}"
      - label: "Tags"
        name: "tags"
        widget: "list"
        allow_add: true
        default: []
      - label: "Draft"
        name: "is_draft"
        widget: "boolean"
        default: false
      - label: "Quote Text"
        name: "body"
        widget: "markdown"

  - name: notes
    label: "Notes"
    label_singular: "Note"
    folder: "src/content/notes"
    create: true
    extension: md
    format: frontmatter
    nested:
      depth: 100
    path: "{{year}}/{{slug}}"
    slug: "{{slug}}"
    summary: "{{title}}"
    identifier_field: slug
    sortable_fields: ['created', 'title']
    fields:
      - label: "Slug"
        name: "slug"
        widget: "string"
        pattern: ['^[a-z0-9]+(?:-[a-z0-9]+)*$', "Lowercase letters, numbers, and hyphens only"]
      - label: "Title"
        name: "title"
        widget: "string"
        required: false
        hint: "Optional title for the note"
      - label: "Created"
        name: "created"
        widget: "datetime"
        date_format: "YYYY-MM-DD"
        time_format: "HH:mm:ss"
        format: "YYYY-MM-DDTHH:mm:ssZ"
        default: "{{now}}"
      - label: "Tags"
        name: "tags"
        widget: "list"
        allow_add: true
        default: []
      - label: "Draft"
        name: "is_draft"
        widget: "boolean"
        default: false
      - label: "Body"
        name: "body"
        widget: "markdown"

  - name: series
    label: "Series"
    label_singular: "Series"
    folder: "src/content/series"
    create: true
    extension: md
    format: frontmatter
    slug: "{{slug}}"
    identifier_field: slug
    fields:
      - label: "Slug"
        name: "slug"
        widget: "string"
        pattern: ['^[a-z0-9]+(?:-[a-z0-9]+)*$', "Lowercase letters, numbers, and hyphens only"]
      - label: "Title"
        name: "title"
        widget: "string"
      - label: "Summary"
        name: "summary"
        widget: "text"
      - label: "Created"
        name: "created"
        widget: "datetime"
        date_format: "YYYY-MM-DD"
        time_format: "HH:mm:ss"
        format: "YYYY-MM-DDTHH:mm:ssZ"
        default: "{{now}}"
